{% extends 'shop/base.html' %}

{% block content %}

<div style="background-color: #f8f9fa; min-height: 80vh; padding-top: 3rem; padding-bottom: 3rem; width: 100%;">
  <div style="max-width: 1000px; margin: 60px auto 0;">
    <div class="container d-flex justify-content-center">
      <div class="w-100" style="max-width: 900px;">
        {% if user.is_superuser %}
        <h2 class="text-center" style="margin: 0 0 100px">AdminPage</h2>
        {% else %}
        <h2 class="text-center" style="margin: 0 0 100px">MYPAGE</h2>
        {% endif %}
      </div>
    </div>
    <!-- 섹션 1: 프로필 -->
    {% if user.is_superuser %}
    <section id="profile" style="margin-bottom: 3rem;">
      <div class="d-flex justify-content-between align-items-center gap-4" style="margin-left: .25rem;">
        <div class="d-flex align-items-center gap-3">
          <img src="https://dummyimage.com/100x100/ced4da/6c757d.jpg"
               alt="더미 이미지"
               style="border-radius: 50%; width: 100px; height: 100px;">
          <div>
            <h5 class="m-0 fw-bold">{{ user.username }}</h5>
            <small class="text-muted">{{ user.email }}</small>
          </div>
        </div>
        <div class="text-end">
          <div class="fw-bold">오늘 주문량 : {{ today_purchases }}</div>
          <div class="fw-bold">전체 주문량 : {{ total_purchases }}</div>
        </div>
      </div>
    </section>
    <section id="account" style="margin-top: 8rem; padding: 0"></section>
        <ul style="list-style-type: none; margin: 0; padding: 0; font-size: 1.25rem;">
          <li style="border-top: 1px solid #dee2e6;">
                <a href="{% url 'create' %}"
                   style="margin-left: 10px; display: block; padding: 1rem 0; text-decoration: none; color: inherit;"
                   onmouseover="this.style.backgroundColor='#f1f1f1'"
                   onmouseout="this.style.backgroundColor=''">
                    POST
                </a>  
            </li>
            <li style="border-top: 1px solid #dee2e6;">
                <a href="{% url 'orderlist' %}"
                   style="margin-left: 10px; display: block; padding: 1rem 0; text-decoration: none; color: inherit;"
                   onmouseover="this.style.backgroundColor='#f1f1f1'"
                   onmouseout="this.style.backgroundColor=''">
                    주문내역
                </a>
            </li>
            <li style="border-top: 1px solid #dee2e6;">
                <a href="{% url 'admincontact' %}"
                   style="margin-left: 10px; display: block; padding: 1rem 0; text-decoration: none; color: inherit;"
                   onmouseover="this.style.backgroundColor='#f1f1f1'"
                   onmouseout="this.style.backgroundColor=''">
                    고객문의내역
                </a>  
            </li>
        </ul>
    {% else %}
    <section id="profile" style="margin-bottom: 3rem;">
      <div style="display: flex; align-items: center; gap: 1.5rem; margin-left: 0.25rem;">
        <img src="https://dummyimage.com/100x100/ced4da/6c757d.jpg"
             alt="더미 이미지"
             style="border-radius: 50%; width: 100px; height: 100px;">
        <div>
          <h5 style="margin-bottom: 0.25rem; font-weight: bold;">{{ user.username }}</h5>
          <small style="color: #6c757d;">{{ user.email }}</small>
        </div>
      </div>
    </section>
    <!-- 섹션 2: 편의 -->
    <section id="account" style="margin-top: 8rem; padding: 0">
        <ul style="list-style-type: none; margin: 0; padding: 0; font-size: 1.25rem;">
            <li style="border-top: 1px solid #dee2e6;">
                <a href="order_status/"
                   style="margin-left: 10px; display: block; padding: 1rem 0; text-decoration: none; color: inherit;"
                   onmouseover="this.style.backgroundColor='#f1f1f1'"
                   onmouseout="this.style.backgroundColor=''">
                    주문현황
                </a>
            </li>
            <li style="border-top: 1px solid #dee2e6;">
                <a href="{% url 'orderlist' %}"
                   style="margin-left: 10px; display: block; padding: 1rem 0; text-decoration: none; color: inherit;"
                   onmouseover="this.style.backgroundColor='#f1f1f1'"
                   onmouseout="this.style.backgroundColor=''">
                    주문내역
                </a>
            </li>
            <li style="border-top: 1px solid #dee2e6;">
                <a href="{% url 'wishlist' %}"
                   style="margin-left: 10px; display: block; padding: 1rem 0; text-decoration: none; color: inherit;"
                   onmouseover="this.style.backgroundColor='#f1f1f1'"
                   onmouseout="this.style.backgroundColor=''">
                    위시리스트
                </a>
            </li>
            <li style="border-top: 1px solid #dee2e6;">
                <a href="contact/"
                   style="margin-left: 10px; display: block; padding: 1rem 0; text-decoration: none; color: inherit;"
                   onmouseover="this.style.backgroundColor='#f1f1f1'"
                   onmouseout="this.style.backgroundColor=''">
                    문의하기
                </a>
            </li>
            <li style="border-top: 1px solid #dee2e6;">
                <a href="contact_history/"
                   style="margin-left: 10px; display: block; padding: 1rem 0; text-decoration: none; color: inherit;"
                   onmouseover="this.style.backgroundColor='#f1f1f1'"
                   onmouseout="this.style.backgroundColor=''">
                    문의내역
                </a>
            </li>
        </ul>
    </section>
    {% endif %}
  </div>
</div>
{% endblock %}